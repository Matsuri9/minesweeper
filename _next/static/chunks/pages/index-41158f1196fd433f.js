(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,t,n){"use strict";n.r(t);var l=n(5893),o=n(7294),r=n(2729),i=n.n(r);let a=()=>{let e;let t=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],[n,r]=(0,o.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[a,s]=(0,o.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),c=JSON.parse(JSON.stringify(n)),d=0;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===n[e][t]&&d++;let f=0;c.some(e=>e.includes(1))?(e=!0,f=1):e=!1;let _=Array.from({length:9},()=>Array(9).fill(-1)),u=(e,t)=>{let n=Math.floor(9*Math.random()),l=Math.floor(9*Math.random());n===e&&l===t?u(e,t):0===a[n][l]?(a[n][l]=1,s(a)):u(e,t)},m=(e,l)=>{let o=Array.from({length:9},()=>Array(9).fill(0)),i=_[e][l],a=0;for(let r=0;r<8;r++){let i=e+t[r][0],s=l+t[r][1];i<0||i>8||s<0||s>8||(10===n[i][s]?a++:0===n[i][s]&&(o[i][s]=1))}if(i!==a)return;let s=[...n];for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===o[e][t]&&(s[e][t]=1),r([...s]),h()},x=()=>{71===d&&(f=2,console.log("log> game end (by refused)"))},g=()=>{f=3,console.log("log> game end (by exploded)")},h=()=>{for(let e=0;e<9;e++)for(let l=0;l<9;l++)if(1===n[e][l]){if(1===a[e][l]){_[e][l]=11,g();continue}if(9===n[e][l]){_[e][l]=9;continue}if(10===n[e][l]){_[e][l]=10;continue}let o=0;for(let n=0;n<t.length;n++){let r=e+t[n][0],i=l+t[n][1];r<0||r>8||i<0||i>8||(1===a[r][i]&&o++,_[e][l]=o)}}x()},b=(e,l)=>{let o=(e,n)=>{if(0===_[e][n])for(let l=0;l<t.length;l++){let r=e+t[l][0],s=n+t[l][1];r<0||r>8||s<0||s>8||0!==i[r][s]||0!==a[r][s]||(i[r][s]=1,h(),o(r,s))}};if(1===a[e][l])return;let i=[...n];o(e,l),r([...i])};h();let N=(t,l,o)=>{if(o.preventDefault(),0!==n[l][t]||2===f||3===f)return;if(!e){console.log("log> game started");for(let e=0;e<10;e++)u(l,t)}let i=[...n];i[l][t]=1,r(i),h(),0===_[l][t]&&b(l,t)},v=(e,t,l)=>{if(l.preventDefault(),2===f||3===f)return;let o=[...n];if(10===n[t][e]){o[t][e]=9,r(o),h();return}if(9===n[t][e]){o[t][e]=0,r(o),h();return}if(0!==n[t][e]){m(t,e);return}o[t][e]=10,r(o),h()},k=()=>{r([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),s([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),console.log("log> game reset"),f=0};return(0,l.jsx)("div",{className:i().container,children:(0,l.jsxs)("div",{className:i().board,children:[(0,l.jsx)("header",{className:i().header,children:(0,l.jsx)("button",{className:i()["reset-button"],onClick:k,style:{backgroundPosition:0===f?-408:-370-38*f}})}),(0,l.jsx)("div",{className:i().main,children:_.map((e,t)=>e.map((e,o)=>(0,l.jsx)("div",{className:i().cell,onClick:e=>N(o,t,e),onContextMenu:e=>v(o,t,e),children:0!==e&&(0,l.jsxs)("div",{className:i().tile,style:{backgroundPosition:-30*(_[t][o]-1)},children:[0===e&&(0,l.jsx)("div",{className:i().tile}),(0===n[t][o]||9===n[t][o]||10===n[t][o])&&(0,l.jsx)("div",{className:i().stone,children:(9===n[t][o]||10===n[t][o])&&(0,l.jsx)("div",{className:i().flag,style:{backgroundPosition:-30*(n[t][o]-1)}})})]})},"".concat(o,"-").concat(t))))})]})})};t.default=a},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",header:"index_header__A7Bm0",bombcount:"index_bombcount__9ozLl","reset-button":"index_reset-button__5okxv",timercount:"index_timercount__HnUQW",main:"index_main__kAcUb",cell:"index_cell__3W8ZQ",tile:"index_tile__BL_fN",stone:"index_stone__oeDmm",flag:"index_flag__Bsg_z"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);