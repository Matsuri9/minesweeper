(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,t,n){"use strict";n.r(t);var l=n(5893),o=n(7294),r=n(2729),i=n.n(r);let s=()=>{let e;let t=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],[n,r]=(0,o.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[s,a]=(0,o.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),c=JSON.parse(JSON.stringify(n)),f=0,d=0;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===n[e][t]&&d++;c.some(e=>e.includes(1))?(e=!0,f=1):e=!1;let _=Array.from({length:9},()=>Array(9).fill(-1)),u=(e,t)=>{let n=Math.floor(9*Math.random()),l=Math.floor(9*Math.random());n===e&&l===t?u(e,t):0===s[n][l]?(s[n][l]=1,a(s)):u(e,t)},m=(e,l)=>{let o=(e,n)=>{if(0===_[e][n])for(let l=0;l<t.length;l++){let r=e+t[l][0],a=n+t[l][1];r<0||r>8||a<0||a>8||0!==i[r][a]||0!==s[r][a]||(i[r][a]=1,b(),o(r,a))}};if(1===s[e][l])return;let i=[...n];o(e,l),r([...i])},x=(e,l)=>{let o=Array.from({length:9},()=>Array(9).fill(0)),i=_[e][l],s=0;for(let r=0;r<8;r++){let i=e+t[r][0],a=l+t[r][1];i<0||i>8||a<0||a>8||(10===n[i][a]?s++:0===n[i][a]&&(o[i][a]=1))}if(i!==s)return;let a=[...n];for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===o[e][t]&&(a[e][t]=1),r([...a]),b();for(let e=0;e<9;e++)for(let t=0;t<9;t++)0===_[e][t]&&m(e,t)},g=()=>{71===d&&(f=2,console.log("log> game end (by refused)"))},h=()=>{f=3,console.log("log> game end (by exploded)")},b=()=>{for(let e=0;e<9;e++)for(let l=0;l<9;l++)if(1===n[e][l]){if(1===s[e][l]){_[e][l]=11,h();continue}if(9===n[e][l]){_[e][l]=9;continue}if(10===n[e][l]){_[e][l]=10;continue}let o=0;for(let n=0;n<t.length;n++){let r=e+t[n][0],i=l+t[n][1];r<0||r>8||i<0||i>8||(1===s[r][i]&&o++,_[e][l]=o)}}g()},N=(t,l,o)=>{if(o.preventDefault(),9===n[l][t]||10===n[l][t]||2===f||3===f)return;if(1===n[l][t]){x(l,t);return}if(!e){console.log("log> game started");for(let e=0;e<10;e++)u(l,t)}let i=[...n];i[l][t]=1,r(i),b(),0===_[l][t]&&m(l,t)},v=(e,t,l)=>{if(l.preventDefault(),2===f||3===f)return;let o=[...n];if(10===n[t][e])o[t][e]=9;else if(9===n[t][e])o[t][e]=0;else{if(0!==n[t][e])return;o[t][e]=10}r(o),b()};b();let k=()=>{r([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),a([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),console.log("log> game reset"),f=0};return(0,l.jsx)("div",{className:i().container,children:(0,l.jsxs)("div",{className:i().board,children:[(0,l.jsx)("header",{className:i().header,children:(0,l.jsx)("button",{className:i()["reset-button"],onClick:k,style:{backgroundPosition:0===f?-408:-370-38*f}})}),(0,l.jsx)("div",{className:i().main,children:_.map((e,t)=>e.map((e,o)=>(0,l.jsx)("div",{className:i().cell,onClick:e=>N(o,t,e),onContextMenu:e=>v(o,t,e),children:0!==e&&(0,l.jsxs)("div",{className:i().tile,style:{backgroundPosition:-30*(_[t][o]-1)},children:[0===e&&(0,l.jsx)("div",{className:i().tile}),(0===n[t][o]||9===n[t][o]||10===n[t][o])&&(0,l.jsx)("div",{className:i().stone,children:(9===n[t][o]||10===n[t][o])&&(0,l.jsx)("div",{className:i().flag,style:{backgroundPosition:-30*(n[t][o]-1)}})})]})},"".concat(o,"-").concat(t))))})]})})};t.default=s},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",header:"index_header__A7Bm0",bombcount:"index_bombcount__9ozLl","reset-button":"index_reset-button__5okxv",timercount:"index_timercount__HnUQW",main:"index_main__kAcUb",cell:"index_cell__3W8ZQ",tile:"index_tile__BL_fN",stone:"index_stone__oeDmm",flag:"index_flag__Bsg_z"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);