(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,t,n){"use strict";n.r(t);var o=n(5893),l=n(7294),i=n(2729),s=n.n(i);let r=()=>{let e;let t=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],[n,i]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[r,a]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),c=JSON.parse(JSON.stringify(n)),d=0;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===n[e][t]&&d++;let _=0;c.some(e=>e.includes(1))?(e=!0,_=1):e=!1;let u=Array.from({length:9},()=>Array(9).fill(-1)),f=(e,t)=>{let n=Math.floor(9*Math.random()),o=Math.floor(9*Math.random());n===e&&o===t?f(e,t):0===r[n][o]?(r[n][o]=1,a(r)):f(e,t)},m=()=>{71===d&&(_=2,console.log("log> game end (by refused)"))},x=()=>{_=3,console.log("log> game end (by exploded)")},g=()=>{for(let e=0;e<9;e++)for(let o=0;o<9;o++)if(1===n[e][o]){if(1===r[e][o]){u[e][o]=11,x();continue}if(9===n[e][o]){u[e][o]=9;continue}if(10===n[e][o]){u[e][o]=10;continue}let l=0;for(let n=0;n<t.length;n++){let i=e+t[n][0],s=o+t[n][1];i<0||i>8||s<0||s>8||(1===r[i][s]&&l++,u[e][o]=l)}}m()},b=(e,o)=>{let l=(e,n)=>{if(0===u[e][n])for(let o=0;o<t.length;o++){let i=e+t[o][0],a=n+t[o][1];i<0||i>8||a<0||a>8||0!==s[i][a]||0!==r[i][a]||(s[i][a]=1,g(),l(i,a))}};if(1===r[e][o])return;let s=[...n];l(e,o),i([...s])};g();let h=(t,o,l)=>{if(l.preventDefault(),0!==n[o][t]||2===_||3===_)return;if(!e){console.log("log> game started");for(let e=0;e<10;e++)f(o,t)}let s=[...n];s[o][t]=1,i(s),g(),0===u[o][t]&&b(o,t)},N=(e,t,o)=>{if(o.preventDefault(),2===_||3===_)return;let l=[...n];if(10===n[t][e]){l[t][e]=9,i(l),g();return}if(9===n[t][e]){l[t][e]=0,i(l),g();return}0===n[t][e]&&(l[t][e]=10,i(l),g())},k=()=>{i([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),a([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),console.log("log> game reset"),_=0};return(0,o.jsx)("div",{className:s().container,children:(0,o.jsxs)("div",{className:s().board,children:[(0,o.jsxs)("header",{className:s().header,children:[0===_&&(0,o.jsx)("button",{className:s()["reset-button"],onClick:k,style:{backgroundPosition:-416}}),0!==_&&(0,o.jsx)("button",{className:s()["reset-button"],onClick:k,style:{backgroundPosition:-377-39*_}})]}),(0,o.jsx)("div",{className:s().main,children:u.map((e,t)=>e.map((e,l)=>(0,o.jsx)("div",{className:s().cell,onClick:e=>h(l,t,e),onContextMenu:e=>N(l,t,e),children:0!==e&&(0,o.jsxs)("div",{className:s().tile,style:{backgroundPosition:-30*(u[t][l]-1)},children:[0===e&&(0,o.jsx)("div",{className:s().tile}),(0===n[t][l]||9===n[t][l]||10===n[t][l])&&(0,o.jsx)("div",{className:s().stone,children:(9===n[t][l]||10===n[t][l])&&(0,o.jsx)("div",{className:s().flag,style:{backgroundPosition:-30*(n[t][l]-1)}})})]})},"".concat(l,"-").concat(t))))})]})})};t.default=r},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",header:"index_header__A7Bm0",bombcount:"index_bombcount__9ozLl","reset-button":"index_reset-button__5okxv",timercount:"index_timercount__HnUQW",main:"index_main__kAcUb",cell:"index_cell__3W8ZQ",tile:"index_tile__BL_fN",stone:"index_stone__oeDmm",flag:"index_flag__Bsg_z"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);